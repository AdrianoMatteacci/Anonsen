<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnonsenSocial</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: white;
            color: #2563eb;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: #2563eb;
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(37, 99, 235, 0.3);
        }

        .menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            left: -300px;
            top: 0;
            width: 300px;
            height: 100vh;
            background: #2563eb;
            transition: left 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sidebar-item {
            padding: 15px 20px;
            color: white;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.3s;
        }

        .sidebar-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .sidebar-bottom {
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        /* Main Content */
        .main-content {
            margin-top: 70px;
            min-height: calc(100vh - 140px);
            padding: 20px;
            padding-bottom: 80px;
        }

        .search-bar {
            width: 100%;
            max-width: 800px;
            margin: 0 auto 30px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #2563eb;
            border-radius: 25px;
            font-size: 16px;
            outline: none;
        }

        .search-input:focus {
            box-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .video-card {
            background: white;
            border: 2px solid #2563eb;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(37, 99, 235, 0.2);
        }

        .video-thumbnail {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: #2563eb;
            position: relative;
        }

        .video-info {
            padding: 15px;
        }

        .video-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2563eb;
        }

        .video-meta {
            font-size: 14px;
            color: #6b7280;
        }

        .short-indicator {
            background: #2563eb;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 5px;
        }

        .load-more {
            text-align: center;
            margin: 30px 0;
        }

        .load-more-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }

        .load-more-btn:hover {
            background: #1d4ed8;
        }

        /* Footer */
        .footer {
            background: #2563eb;
            color: white;
            padding: 15px 20px;
            position: fixed;
            bottom: 0;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            z-index: 999;
        }

        .footer-icon {
            font-size: 28px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .footer-icon:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Finance Page */
        .finance-content {
            display: none;
            text-align: center;
        }

        .budget-circle {
            width: 350px;
            height: 350px;
            border-radius: 50%;
            border: 12px solid #2563eb;
            margin: 30px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(135deg, #e0e7ff, #f0f4ff);
        }

        .budget-amount {
            font-size: 20px;
            font-weight: bold;
            color: #2563eb;
            margin-bottom: 10px;
        }

        .budget-input {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #2563eb;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            width: 150px;
        }

        .budget-status {
            font-size: 16px;
            font-weight: bold;
            margin-top: 10px;
        }

        .finance-sections {
            display: flex;
            justify-content: space-around;
            margin-top: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .finance-section {
            flex: 1;
            min-width: 350px;
            margin: 10px;
            background: white;
            border: 2px solid #2563eb;
            border-radius: 15px;
            padding: 20px;
        }

        .section-title {
            font-size: 22px;
            font-weight: bold;
            color: #2563eb;
            margin-bottom: 20px;
            text-align: center;
        }

        .finance-item {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .finance-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #2563eb;
            border-radius: 8px;
            font-size: 14px;
        }

        .add-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 16px;
            margin-top: 10px;
        }

        .remove-btn {
            background: #dc2626;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            min-width: 40px;
        }

        /* Profile Page */
        .profile-content {
            display: none;
            max-width: 700px;
            margin: 0 auto;
        }

        .profile-section {
            background: white;
            border: 2px solid #2563eb;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.1);
        }

        .profile-image {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 4px solid #2563eb;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            color: #2563eb;
            overflow: hidden;
        }

        .guest-indicator {
            background: #f59e0b;
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 14px;
            margin-bottom: 15px;
            display: inline-block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2563eb;
            font-size: 16px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #2563eb;
            border-radius: 8px;
            outline: none;
            font-size: 16px;
        }

        .form-input:focus, .form-select:focus {
            box-shadow: 0 0 8px rgba(37, 99, 235, 0.3);
        }

        .btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 15px;
            font-size: 16px;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #1d4ed8;
        }

        .btn-secondary {
            background: white;
            color: #2563eb;
            border: 2px solid #2563eb;
        }

        .btn-secondary:hover {
            background: #2563eb;
            color: white;
        }

        /* Settings Page */
        .settings-content {
            display: none;
            max-width: 700px;
            margin: 0 auto;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            font-size: 16px;
        }

        .toggle {
            width: 60px;
            height: 30px;
            background: #e5e7eb;
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle.active {
            background: #2563eb;
        }

        .toggle::before {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle.active::before {
            transform: translateX(30px);
        }

        /* Chat Windows */
        .chat-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 2000;
            display: none;
            flex-direction: column;
        }

        .chat-header {
            background: #2563eb;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }

        .chat-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8fafc;
        }

        .chat-footer {
            background: #2563eb;
            padding: 15px 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            outline: none;
            font-size: 16px;
        }

        .chat-send-btn {
            background: white;
            color: #2563eb;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        .chat-back-btn {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: #dc2626;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Group Management */
        .group-controls {
            margin-bottom: 20px;
            text-align: center;
        }

        .group-btn {
            background: #2563eb;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }

        .user-search {
            width: 100%;
            padding: 12px;
            border: 2px solid #2563eb;
            border-radius: 25px;
            margin-bottom: 15px;
            outline: none;
        }

        .ai-message, .user-message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 70%;
        }

        .ai-message {
            background: #e0e7ff;
            color: #2563eb;
            margin-right: auto;
        }

        .user-message {
            background: #2563eb;
            color: white;
            margin-left: auto;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .overlay.show {
            display: block;
        }

        /* Partner Program */
        .partner-content {
            display: none;
            max-width: 800px;
            margin: 0 auto;
        }

        .partner-hero {
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }

        .partner-benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .benefit-card {
            background: white;
            border: 2px solid #2563eb;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .benefit-icon {
            font-size: 40px;
            color: #2563eb;
            margin-bottom: 15px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .video-grid {
                grid-template-columns: 1fr;
            }
            
            .finance-sections {
                flex-direction: column;
            }
            
            .budget-circle {
                width: 280px;
                height: 280px;
            }

            .footer {
                gap: 20px;
            }

            .footer-icon {
                font-size: 24px;
                padding: 8px;
            }

            .finance-section {
                min-width: unset;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }

            .budget-circle {
                width: 250px;
                height: 250px;
            }

            .profile-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Header -->
    <div class="header">
        <button class="menu-btn" id="menuBtn">☰</button>
        <div class="logo" id="pageTitle">AnonsenSocial</div>
    </div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">AnonsenSocial</div>
        </div>
        <div class="sidebar-item" onclick="switchPage('social')">🏠 AnonsenSocial</div>
        <div class="sidebar-item" onclick="switchPage('finance')">💰 AnonsenFinance</div>
        <div class="sidebar-item" onclick="switchPage('partner')">🤝 Partnerprogramm</div>
        <div class="sidebar-bottom">
            <div class="sidebar-item" onclick="switchPage('profile')">👤 Profil</div>
            <div class="sidebar-item" onclick="switchPage('settings')">⚙️ Einstellungen</div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Social Media Page -->
        <div id="socialContent">
            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Suche nach Videos, Shorts und mehr..." id="searchInput">
            </div>

            <div class="video-grid" id="videoGrid">
                <!-- Videos werden hier dynamisch geladen -->
            </div>

            <div class="load-more">
                <button class="load-more-btn" onclick="loadMoreVideos()">Weitere Videos laden</button>
            </div>
        </div>

        <!-- Finance Page -->
        <div id="financeContent" class="finance-content">
            <div class="budget-circle">
                <div class="budget-amount">Gesamtbudget</div>
                <input type="number" class="budget-input" id="budgetInput" placeholder="€ 0" value="1000">
                <div class="budget-status" id="budgetStatus">Im Budget</div>
            </div>

            <div class="finance-sections">
                <div class="finance-section">
                    <div class="section-title">💰 Einnahmen</div>
                    <div id="incomeList">
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Gehalt">
                            <input type="number" class="finance-input" placeholder="Betrag" value="2500">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">✕</button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addFinanceItem('income')">+ Einnahme hinzufügen</button>
                </div>

                <div class="finance-section">
                    <div class="section-title">💸 Ausgaben</div>
                    <div id="expenseList">
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Miete">
                            <input type="number" class="finance-input" placeholder="Betrag" value="800">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">✕</button>
                        </div>
                        <div class="finance-item">
                            <input type="text" class="finance-input" placeholder="Beschreibung" value="Lebensmittel">
                            <input type="number" class="finance-input" placeholder="Betrag" value="300">
                            <button class="remove-btn" onclick="removeFinanceItem(this)">✕</button>
                        </div>
                    </div>
                    <button class="add-btn" onclick="addFinanceItem('expense')">+ Ausgabe hinzufügen</button>
                </div>
            </div>
        </div>

        <!-- Partner Program Page -->
        <div id="partnerContent" class="partner-content">
            <div class="partner-hero">
                <h1>🤝 Anonsen Partnerprogramm</h1>
                <p>Werde Teil unserer Creator-Community und monetarisiere deine Inhalte</p>
            </div>

            <div class="partner-benefits">
                <div class="benefit-card">
                    <div class="benefit-icon">💰</div>
                    <h3>Monetarisierung</h3>
                    <p>Verdiene durch Klicks, Likes und Abonnenten</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">📊</div>
                    <h3>Creator Dashboard</h3>
                    <p>Detaillierte Analysen deiner Performance</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">🎯</div>
                    <h3>Exklusive Tools</h3>
                    <p>Erweiterte Upload- und Bearbeitungsoptionen</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">👥</div>
                    <h3>Community Support</h3>
                    <p>Direkter Kontakt zu anderen Partnern</p>
                </div>
            </div>

            <div class="profile-section">
                <h2>Voraussetzungen</h2>
                <ul style="text-align: left; margin: 20px 0; padding-left: 20px;">
                    <li>Verifizierter Account</li>
                    <li>Mindestens 10 hochgeladene Videos</li>
                    <li>Community-Richtlinien beachtet</li>
                    <li>Mindestens 1.000 Aufrufe in den letzten 30 Tagen</li>
                </ul>
                <button class="btn">Jetzt bewerben</button>
                <button class="btn-secondary">Mehr erfahren</button>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profileContent" class="profile-content">
            <div class="profile-section">
                <div class="guest-indicator" id="guestIndicator">👤 Gast-Modus</div>
                <div class="profile-image" id="profileImage">👤</div>
                <div class="form-group">
                    <label class="form-label">Profilbild</label>
                    <input type="file" class="form-input" accept="image/*" onchange="handleProfileImage(this)">
                    <button class="btn-secondary" style="margin-top: 10px;">Aus Galerie wählen</button>
                </div>
            </div>

            <div class="profile-section">
                <div class="form-group">
                    <label class="form-label">Benutzername</label>
                    <input type="text" class="form-input" id="username" placeholder="Dein Benutzername" value="Gast">
                </div>
                <div class="form-group">
                    <label class="form-label">E-Mail-Anbieter</label>
                    <select class="form-select" id="emailProvider">
                        <option value="gmail">Gmail</option>
                        <option value="yahoo">Yahoo</option>
                        <option value="outlook">Outlook</option>
                        <option value="custom">Individuell</option>
                    </select>
                    <input type="email" class="form-input" id="email" placeholder="deine@email.com" style="margin-top: 10px;">
                </div>
                <div class="form-group">
                    <label class="form-label">Passwort</label>
                    <input type="password" class="form-input" id="password" placeholder="Mindestens 6 Zeichen">
                </div>
                <button class="btn" onclick="saveProfile()">Profil speichern</button>
                <button class="btn-secondary">Abbrechen</button>
            </div>
        </div>

        <!-- Settings Page -->
        <div id="settingsContent" class="settings-content">
            <div class="profile-section">
                <div class="section-title">⚙️ Einstellungen</div>
                
                <div class="setting-item">
                    <span>🌙 Dunkler Modus</span>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span>🔔 Benachrichtigungen</span>
                    <div class="toggle active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span>▶️ Automatische Wiedergabe</span>
                    <div class="toggle active" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span>📱 Datensparmodus</span>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span>📍 Standort teilen</span>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>
                
                <div class="setting-item">
                    <span>🔒 Privater Modus</span>
                    <div class="toggle" onclick="toggleSetting(this)"></div>
                </div>

                <div class="setting-item">
                    <span>🌍 Sprache</span>
                    <select class="form-select" style="width: 120px;">
                        <option value="de" selected>Deutsch</option>
                        <option value="en">English</option>
                        <option value="tr">Türkçe</option>
                        <option value="fr">Français</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Social Chat Window -->
    <div class="chat-window" id="socialChatWindow">
        <div class="chat-header">💬 Social Chat</div>
        <div class="chat-content" id="socialChatContent">
            <div class="group-controls">
                <input type="text" class="user-search" placeholder="Benutzer suchen..." id="userSearch">
                <button class="group-btn" onclick="createGroup()">Gruppe erstellen</button>
                <button class="group-btn" onclick="sendFriendRequest()">Freundesanfrage senden</button>
            </div>
            <div id="chatMessages">
                <div style="text-align: center; color: #6b7280; margin: 20px;">
                    Suche nach Benutzern oder erstelle eine Gruppe, um zu chatten.
                </div>
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input" placeholder="Nachricht schreiben..." id="socialChatInput">
            <button class="chat-send-btn" onclick="sendSocialMessage()">Senden</button>
        </div>
        <button class="chat-back-btn" onclick="closeSocialChat()">Verlassen</button>
    </div>

    <!-- AI Chat Window -->
    <div class="chat-window" id="aiChatWindow">
        <div class="chat-header">🤖 KI-Finanzberatung</div>
        <div class="chat-content" id="aiChatContent">
            <div class="ai-message">
                Hallo! Ich bin deine KI-Finanzberatung. Wie kann ich dir bei deinen Finanzen helfen?
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" class="chat-input" placeholder="Frage zur Finanzberatung..." id="aiChatInput">
            <button class="chat-send-btn" onclick="sendAIMessage()">Senden</button>
        </div>
        <button class="chat-back-btn" onclick="closeAIChat()">Zurück</button>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-icon" onclick="openSocialChat()" id="socialChatIcon">💬</div>
        <div class="footer-icon" onclick="openAIChat()" id="aiChatIcon" style="display: none;">🤖</div>
    </div>

    <script>
        // Sample video data - erweitert für 30 Videos
        const videos = [
            { title: "Wie man perfekte Pasta kocht", type: "normal", views: "1.2M", time: "10:45" },
            { title: "Lustiger Hund tanzt", type: "short", views: "850K", time: "0:15" },
            { title: "JavaScript Tutorial für Anfänger", type: "normal", views: "523K", time: "25:30" },
            { title: "Schnelles Workout", type: "short", views: "1.8M", time: "0:30" },
            { title: "Reise nach Japan Vlog", type: "normal", views: "340K", time: "15:20" },
            { title: "Katze vs. Gurke", type: "short", views: "2.1M", time: "0:12" },
            { title: "DIY Heimwerker Tipps", type: "normal", views: "680K", time: "18:45" },
            { title: "Dance Challenge", type: "short", views: "920K", time: "0:28" },
            { title: "Fotografie Grundlagen", type: "normal", views: "445K", time: "22:15" },
            { title: "Lustige Fails", type: "short", views: "1.5M", time: "0:45" },
            { title: "Kochrezept: Italienische Pizza", type: "normal", views: "890K", time: "12:30" },
            { title: "Schnelle Fitness Routine", type: "short", views: "1.1M", time: "0:35" },
            { title: "Programmieren lernen in 2024", type: "normal", views: "750K", time: "28:15" },
            { title: "Hund lernt Tricks", type: "short", views: "2.3M", time: "0:20" },
            { title: "Weltreise Dokumentation", type: "normal", views: "1.8M", time: "45:30" },
            { title: "Gaming Highlights", type: "short", views: "1.6M", time: "0:25" },
            { title: "Musik Tutorial Gitarre", type: "normal", views: "420K", time: "16:40" },
            { title: "Tierische Freunde", type: "short", views: "3.2M", time: "0:18" },
            { title: "Wissenschaft erklärt", type: "normal", views: "580K", time: "20:10" },
            { title: "Comedy Sketch", type: "short", views: "950K", time: "0:40" },
            { title: "Auto Tuning Guide", type: "normal", views: "670K", time: "19:25" },
            { title: "Food Challenge", type: "short", views: "1.4M", time: "0:33" },
            { title: "Natur Dokumentation", type: "normal", views: "820K", time: "35:15" },
            { title: "Sport Highlights", type: "short", views: "1.9M", time: "0:22" },
            { title: "Tech Review 2024", type: "normal", views: "1.1M", time: "24:45" },
            { title: "Pranks mit Freunden", type: "short", views: "2.8M", time: "0:38" },
            { title: "Kunst Tutorial", type: "normal", views: "390K", time: "17:20" },
            { title: "Tanzchoreographie", type: "short", views: "1.3M", time: "0:29" },
            { title: "Gaming Strategie Guide", type: "normal", views: "710K", time: "21:50" },
            { title: "Lifestyle Vlog", type: "short", views: "880K", time: "0:42" }
        ];

        // App state
        let currentPage = 'social';
        let isLoggedIn = false;
        let displayedVideos = 0;
        let currentChat = null;

        // Initialize the app
        function init() {
            loadVideos(30); // Load initial 30 videos
            calculateBudget();
            updateChatIcons();
        }

        function loadVideos(count = 10) {
            const videoGrid = document.getElementById('videoGrid');
            
            // If loading initial videos, clear the grid
            if (displayedVideos === 0) {
                videoGrid.innerHTML = '';
            }

            // Load 20 normal videos and 10 shorts as requested
            let shortCount = 0;
            let normalCount = 0;
            let videosToShow = [];

            for (let i = displayedVideos; i < Math.min(displayedVideos + count, videos.length); i++) {
                const video = videos[i];
                if (video.type === 'short' && shortCount < 10) {
                    videosToShow.push(video);
                    shortCount++;
                } else if (video.type === 'normal' && normalCount < 20) {
                    videosToShow.push(video);
                    normalCount++;
                }
            }

            // Shuffle to mix shorts and normal videos
            videosToShow.sort(() => Math.random() - 0.5);

            videosToShow.forEach(video => {
                const videoCard = document.createElement('div');
                videoCard.className = 'video-card';
                videoCard.innerHTML = `
                    <div class="video-thumbnail">
                        ${video.type === 'short' ? '📱' : '🎥'}
                    </div>
                    <div class="video-info">
                        ${video.type === 'short' ? '<div class="short-indicator">Ansen</div>' : ''}
                        <div class="video-title">${video.title}</div>
                        <div class="video-meta">${video.views} Aufrufe • ${video.time}</div>
                    </div>
                `;
                videoGrid.appendChild(videoCard);
            });

            displayedVideos += videosToShow.length;
        }

        function loadMoreVideos() {
            loadVideos(10);
        }

        function switchPage(page) {
            // Hide all content
            document.getElementById('socialContent').style.display = 'none';
            document.getElementById('financeContent').style.display = 'none';
            document.getElementById('partnerContent').style.display = 'none';
            document.getElementById('profileContent').style.display = 'none';
            document.getElementById('settingsContent').style.display = 'none';

            // Show selected content and update title
            switch(page) {
                case 'social':
                    document.getElementById('socialContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'AnonsenSocial';
                    break;
                case 'finance':
                    document.getElementById('financeContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'AnonsenFinance';
                    calculateBudget();
                    break;
                case 'partner':
                    document.getElementById('partnerContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Partnerprogramm';
                    break;
                case 'profile':
                    document.getElementById('profileContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Profil';
                    break;
                case 'settings':
                    document.getElementById('settingsContent').style.display = 'block';
                    document.getElementById('pageTitle').textContent = 'Einstellungen';
                    break;
            }

            currentPage = page;
            updateChatIcons();
            closeSidebar();
        }

        function updateChatIcons() {
            const socialIcon = document.getElementById('socialChatIcon');
            const aiIcon = document.getElementById('aiChatIcon');
            
            if (currentPage === 'finance') {
                socialIcon.style.display = 'none';
                aiIcon.style.display = 'block';
            } else {
                socialIcon.style.display = 'block';
                aiIcon.style.display = 'none';
            }
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            
            if (sidebar.classList.contains('open')) {
                closeSidebar();
            } else {
                sidebar.classList.add('open');
                overlay.classList.add('show');
            }
        }

        function closeSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.remove('open');
            overlay.classList.remove('show');
        }

        // Finance functions
        function addFinanceItem(type) {
            const list = type === 'income' ? document.getElementById('incomeList') : document.getElementById('expenseList');
            const item = document.createElement('div');
            item.className = 'finance-item';
            item.innerHTML = `
                <input type="text" class="finance-input" placeholder="Beschreibung">
                <input type="number" class="finance-input" placeholder="Betrag" oninput="calculateBudget()">
                <button class="remove-btn" onclick="removeFinanceItem(this)">✕</button>
            `;
            list.appendChild(item);
            calculateBudget();
        }

        function removeFinanceItem(btn) {
            btn.parentElement.remove();
            calculateBudget();
        }

        function calculateBudget() {
            const budget = parseFloat(document.getElementById('budgetInput').value) || 0;
            let totalIncome = 0;
            let totalExpenses = 0;

            // Calculate income
            const incomeInputs = document.querySelectorAll('#incomeList .finance-input[type="number"]');
            incomeInputs.forEach(input => {
                totalIncome += parseFloat(input.value) || 0;
            });

            // Calculate expenses
            const expenseInputs = document.querySelectorAll('#expenseList .finance-input[type="number"]');
            expenseInputs.forEach(input => {
                totalExpenses += parseFloat(input.value) || 0;
            });

            const balance = totalIncome - totalExpenses;
            const statusElement = document.getElementById('budgetStatus');
            
            if (balance < 0) {
                statusElement.textContent = `Im Minus: €${Math.abs(balance).toFixed(2)}`;
                statusElement.style.color = '#dc2626';
            } else if (balance <= budget) {
                statusElement.textContent = `Übrig: €${balance.toFixed(2)}`;
                statusElement.style.color = '#059669';
            } else {
                statusElement.textContent = `Über Budget: €${(balance - budget).toFixed(2)}`;
                statusElement.style.color = '#f59e0b';
            }
        }

        // Settings functions
        function toggleSetting(toggle) {
            toggle.classList.toggle('active');
        }

        // Profile functions
        function handleProfileImage(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const profileImage = document.getElementById('profileImage');
                    profileImage.innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">`;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function saveProfile() {
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            if (username && email && password) {
                if (password.length >= 6) {
                    isLoggedIn = true;
                    document.getElementById('guestIndicator').style.display = 'none';
                    alert('Profil erfolgreich gespeichert!');
                } else {
                    alert('Passwort muss mindestens 6 Zeichen lang sein!');
                }
            } else {
                alert('Bitte füllen Sie alle Felder aus!');
            }
        }

        // Chat functions
        function openSocialChat() {
            if (!isLoggedIn) {
                alert('Bitte melden Sie sich an, um den Chat zu nutzen!');
                switchPage('profile');
                return;
            }
            document.getElementById('socialChatWindow').style.display = 'flex';
        }

        function closeSocialChat() {
            document.getElementById('socialChatWindow').style.display = 'none';
        }

        function openAIChat() {
            document.getElementById('aiChatWindow').style.display = 'flex';
        }

        function closeAIChat() {
            document.getElementById('aiChatWindow').style.display = 'none';
        }

        function createGroup() {
            const groupName = prompt('Gruppenname eingeben:');
            if (groupName) {
                alert(`Gruppe "${groupName}" wurde erstellt!`);
                // Here you would implement actual group creation
            }
        }

        function sendFriendRequest() {
            const userSearch = document.getElementById('userSearch').value;
            if (userSearch) {
                alert(`Freundesanfrage an "${userSearch}" gesendet!`);
                document.getElementById('userSearch').value = '';
            } else {
                alert('Bitte geben Sie einen Benutzernamen ein!');
            }
        }

        function sendSocialMessage() {
            const input = document.getElementById('socialChatInput');
            if (input.value.trim()) {
                const messagesDiv = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'user-message';
                messageDiv.textContent = input.value;
                messagesDiv.appendChild(messageDiv);
                input.value = '';
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            }
        }

        function sendAIMessage() {
            const input = document.getElementById('aiChatInput');
            if (input.value.trim()) {
                const content = document.getElementById('aiChatContent');
                
                // User message
                const userMsg = document.createElement('div');
                userMsg.className = 'user-message';
                userMsg.textContent = input.value;
                content.appendChild(userMsg);
                
                // AI response (simulated)
                setTimeout(() => {
                    const aiMsg = document.createElement('div');
                    aiMsg.className = 'ai-message';
                    aiMsg.textContent = getAIResponse(input.value);
                    content.appendChild(aiMsg);
                    content.scrollTop = content.scrollHeight;
                }, 1000);
                
                input.value = '';
                content.scrollTop = content.scrollHeight;
            }
        }

        function getAIResponse(question) {
            const responses = [
                "Basierend auf Ihren Finanzdaten empfehle ich, ein Notfallbudget von 3-6 Monatsausgaben anzulegen.",
                "Ihre Ausgaben sind gut strukturiert. Versuchen Sie, 20% Ihres Einkommens zu sparen.",
                "Ich sehe, dass Sie über dem Budget liegen. Könnten wir einige Ausgaben reduzieren?",
                "Eine gute Finanzplanung beginnt mit der Kategorisierung Ihrer Ausgaben. Lassen Sie uns das gemeinsam durchgehen.",
                "Basierend auf Ihren Daten könnte eine Investition in einen Sparplan sinnvoll sein."
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Search function
        function searchVideos() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                // Filter videos based on search term
                const filteredVideos = videos.filter(video => 
                    video.title.toLowerCase().includes(searchTerm)
                );
                
                const videoGrid = document.getElementById('videoGrid');
                videoGrid.innerHTML = '';
                
                filteredVideos.forEach(video => {
                    const videoCard = document.createElement('div');
                    videoCard.className = 'video-card';
                    videoCard.innerHTML = `
                        <div class="video-thumbnail">
                            ${video.type === 'short' ? '📱' : '🎥'}
                        </div>
                        <div class="video-info">
                            ${video.type === 'short' ? '<div class="short-indicator">Ansen</div>' : ''}
                            <div class="video-title">${video.title}</div>
                            <div class="video-meta">${video.views} Aufrufe • ${video.time}</div>
                        </div>
                    `;
                    videoGrid.appendChild(videoCard);
                });
            } else {
                displayedVideos = 0;
                loadVideos(30);
            }
        }

        // Event listeners
        document.getElementById('menuBtn').addEventListener('click', toggleSidebar);
        document.getElementById('overlay').addEventListener('click', closeSidebar);
        document.getElementById('budgetInput').addEventListener('input', calculateBudget);

        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchVideos();
            }
        });

        document.getElementById('socialChatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendSocialMessage();
            }
        });

        document.getElementById('aiChatInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendAIMessage();
            }
        });

        // Initialize the app when page loads
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
